/*
 * ThunderCats-React - Thundercats addon for use with React
 * @version v0.1.0
 * @link http://thundercats.js.org
 * @license MIT
 * @author Berkeley Martinez (http://r3dm.com)
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("rx"),require("react")):"function"==typeof define&&define.amd?define(["rx","react"],t):"object"==typeof exports?exports.ThunderCatsReact=t(require("rx"),require("react")):e.ThunderCatsReact=t(e.Rx,e.React)}(this,function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10);Object.defineProperty(t,"Render",{enumerable:!0,get:function(){return n.Render}}),Object.defineProperty(t,"RenderToString",{enumerable:!0,get:function(){return n.RenderToString}});var o=r(11);Object.defineProperty(t,"contain",{enumerable:!0,get:function(){return o.contain}}),Object.defineProperty(t,"createContainer",{enumerable:!0,get:function(){return o.createContainer}})},function(t,r){t.exports=e},function(e,t,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,a=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(a=o))}),e.splice(a,0,n),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(r){}}function i(){var e;try{e=t.storage.debug}catch(r){}return e}function u(){try{return window.localStorage}catch(e){}}t=e.exports=r(12),t.log=a,t.formatArgs=o,t.save=s,t.load=i,t.useColors=n,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(i())},function(e,t,r){"use strict";var n=function(e,t,r,n,o,a,s,i){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,a,s,i],f=0;u=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[f++]}))}throw u.framesToPop=1,u}};e.exports=n},function(e,t){"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var r=Object(e),n=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var a=arguments[o];if(null!=a){var s=Object(a);for(var i in s)n.call(s,i)&&(r[i]=s[i])}}return r}e.exports=r},function(e,t,r){"use strict";var n=r(8),o=n;e.exports=o},function(e,r){e.exports=t},function(e,t){"use strict";function r(e){return""+(n(e)||"Anonymous")}function n(e){return e&&e.displayName||e.constructor&&e.constructor.displayName||null}function o(e){return e&&"function"==typeof e.subscribe}Object.defineProperty(t,"__esModule",{value:!0}),t.getName=r,t.getNameOrNull=n,t.isObservable=o},function(e,t){function r(e){return function(){return e}}function n(){}n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),a=n(o),s=r(18),i=n(s),u=r(3),c=n(u),f=a["default"].createClass({displayName:"ThunderCatsContextWrapper",propTypes:{cat:a["default"].PropTypes.object.isRequired,children:a["default"].PropTypes.element.isRequired},childContextTypes:{cat:a["default"].PropTypes.object.isRequired},getChildContext:function(){return{cat:this.props.cat}},render:function(){return i["default"](this.props.children)}});f.wrap=function(e,t){return c["default"](a["default"].isValidElement(e),"ContextWrapper wrap expects a valid React element"),c["default"]("object"==typeof t,"ContextWrapper expects an instance of Cat"),a["default"].createElement(f,{cat:t},e)},t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){if(!e||0===e.size)return x("cat found empty fetch map"),l["default"].Observable["return"]({data:{},fetchMap:e});var t=l["default"].Observable.from(e.values()).shareReplay(),r=t.pluck("store").filter(function(e){return!!O.getNameOrNull(e)}).toArray().tap(function(e){return x("waiting for %s stores",e.length)}).flatMap(function(e){return g["default"].apply(void 0,o(e)).firstOrDefault()}),n=t.pluck("store").map(function(e){return O.getName(e)}),s=t.map(function(e){var t=e.action,r=e.payload;return{action:t,payload:r}}).tapOnNext(function(){return x("init individual fetchers")}).tapOnNext(function(e){var t=e.action,r=e.payload;t(r)}).tapOnCompleted(function(){return x("fetchers activated")}).toArray();return l["default"].Observable.combineLatest(r,s.delaySubscription(50),function(e){return e}).flatMap(function(e){return l["default"].Observable.from(e)}).zip(n,function(e,t){return a({},t,e)}).reduce(function(e,t){return w({},e,t)},{}).map(function(t){return{data:t,fetchMap:e}})}function i(e,t){return new l["default"].AnonymousObservable(function(r){var n=null;n=d["default"].render(e,t,function(e){return e?r.onError(e):void(n&&r.onNext(n))}),r.onNext(n)})}function u(e,t,r){return l["default"].Observable.just(t).map(function(t){return y["default"].wrap(t,e)}).flatMap(function(e){return i(e,r)},function(e,t){return t})}function c(e,t){var r=new Map;return e.fetchMap=r,l["default"].Observable.just(t).map(function(t){return y["default"].wrap(t,e)}).doOnNext(function(e){x("initiation fetcher registration"),d["default"].renderToStaticMarkup(e),x("fetcher registration complete")}).flatMap(function(){return s(r)},function(e,t){var r=t.data,n=t.fetchMap;return{Burrito:e,data:r,fetchMap:n}}).map(function(e){var t=e.Burrito,r=e.data,n=e.fetchMap,o=d["default"].renderToString(t);return{markup:o,data:r,fetchMap:n}}).firstOrDefault().tapOnNext(function(){return e.fetchMap=null})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetch=s,t.RenderToObs=i,t.Render=u,t.RenderToString=c;var f=r(1),l=n(f),p=r(6),d=n(p),h=r(2),b=n(h),v=r(9),y=n(v),m=r(23),g=n(m),O=r(7),x=b["default"]("thundercats:render"),w=Object.assign},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var r=M({},t);return e&&e.cat||delete r.cat,r}function u(e){throw new Error("ThunderCats Store encountered an error: "+e)}function c(){console.warn("Store has shutdown without error")}function f(e,t,r){N&&g["default"](w.isObservable(r)&&"object"==typeof r.value,"%s should get at a store with a value but got %s for %s with value %s",e,r,t,r&&r.value)}function l(e,t){if(void 0===e&&(e={}),!t)return l.bind(null,e);var r="function"==typeof e.getPayload?e.getPayload:function(){};return N&&g["default"]("function"==typeof t,"createContainer should get a constructor function but got %s",w.getName(t)+"Container"),function(n){function l(t,r){var n=this;a(this,l),d(Object.getPrototypeOf(l.prototype),"constructor",this).call(this,t,r),N&&g["default"]("object"==typeof r.cat,"%s should find an instance of the Cat in the context but got %s",w.getName(this),r.cat);var s=r.cat,i={};if(e.store?(this.observableState=s.getStore(e.store),f(w.getName(this),e.store,this.observableState),"function"==typeof e.map?(i=e.map(this.observableState.value),this.observableState=this.observableState.map(e.map)):i=this.observableState.value):e.stores&&!function(){var t,r=[].slice.call(e.stores),a=e.combineLatest;N&&g["default"]("function"==typeof a,"%s should get a function for options.combineLatest with  options.stores but got %s",w.getName(n),a);var u=[],c=[];r.forEach(function(e){var t=s.getStore(e);f(w.getName(n),e,t),u.push(t),c.push(t.value)});var l=u.slice(0);l.push(a),n.observableState=(t=b["default"].Observable).combineLatest.apply(t,o(l)),i=a.apply(void 0,c)}(),N&&(e.store||e.stores)&&g["default"](w.isObservable(this.observableState),"%s should get at a store but found none for %s",w.getName(this),e.store||e.stores),this.state=M({},i),e.actions){var u=Array.isArray(e.actions)?e.actions:[e.actions];u.forEach(function(e){n.state[e]=s.getActions(e)})}}return s(l,n),p(l,[{key:"componentWillMount",value:function(){var n=this.context.cat;if(e.fetchAction){N&&(g["default"](2===e.fetchAction.split(".").length,"%s fetch action should be in the form of `actionsClass.actionMethod` but was given %s",w.getName(this),e.fetchAction),g["default"]("string"==typeof e.store||"string"==typeof e.fetchWaitFor,"%s requires a store to wait for after fetch but was given %s",w.getName(this),e.store||e.fetchWaitFor));var o=e.fetchAction.split(".")[0],a=e.fetchAction.split(".")[1],s=n.getActions(o),u=n.getStore(e.store||e.fetchWaitFor);N&&(g["default"](s&&s[a],"%s expected to find actions class for %s, but found %s",w.getName(this),e.fetchAction,s),g["default"](w.isObservable(u),"%s should get an observable but got %s for %s",w.getName(this),u,e.fetchWaitFor)),P("cat returned %s for %s for %s",w.getName(s),o,w.getName(this));var c=s[a];if(n.fetchMap){P("%s getPayload in componentWillMount",w.getName(this));var f=r(M({},this.state,this.props),i(t.contextTypes,this.context));n.fetchMap.set(e.fetchAction,{name:e.fetchAction,payload:f,store:u,action:c})}else e.action=c}"function"==typeof e.subscribeOnWillMount&&e.subscribeOnWillMount()&&(P("%s subscribing on will mount",w.getName(this)),this.subscribeToObservableState())}},{key:"componentDidMount",value:function(){this.subscribeToObservableState(),e.action&&(P("%s fetching on componentDidMount",w.getName(this)),e.action(r(M({},this.state,this.props),i(t.contextTypes,this.context))))}},{key:"componentWillReceiveProps",value:function(n,o){e.action&&e.shouldContainerFetch&&e.shouldContainerFetch(M({},this.state,this.props),M({},this.state,n),this.context,o)&&(P("%s fetching on componentWillReceiveProps",w.getName(this)),e.action(r(M({},this.state,n),i(t.contextTypes,o))))}},{key:"componentWillUnmount",value:function(){this.stateSubscription&&(P("%s disposing store subscription",w.getName(this)),this.stateSubscription.dispose(),this.stateSubscription=null)}},{key:"subscribeToObservableState",value:function(){this.observableState&&!this.stateSubscription&&(this.stateSubscription=this.observableState.subscribe(this.storeOnNext.bind(this),e.storeOnError||u,e.onCompleted||c))}},{key:"storeOnNext",value:function(e){P("%s value updating",w.getName(this),e),this.setState(e)}},{key:"render",value:function(){return y["default"].createElement(t,M({},this.state,this.props))}}],[{key:"contextTypes",value:M({},t.contextTypes||{},{cat:v.PropTypes.object.isRequired}),enumerable:!0},{key:"displayName",value:t.displayName+"Container",enumerable:!0},{key:"propTypes",value:t.propTypes||{},enumerable:!0}]),l}(y["default"].Component)}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=function(e,t,r){for(var n=!0;n;){var o=e,a=t,s=r;i=c=u=void 0,n=!1,null===o&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(s)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=a,r=s,n=!0}};t.createContainer=l;var h=r(1),b=n(h),v=r(6),y=n(v),m=r(3),g=n(m),O=r(2),x=n(O),w=r(7),N=!1,P=x["default"]("thundercats:container"),M=Object.assign,A=l;t.contain=A},function(e,t,r){function n(){return t.colors[f++%t.colors.length]}function o(e){function r(){}function o(){var e=o,r=+new Date,a=r-(c||r);e.diff=a,e.prev=c,e.curr=r,c=r,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=n());var s=Array.prototype.slice.call(arguments);s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var i=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;i++;var o=t.formatters[n];if("function"==typeof o){var a=s[i];r=o.call(e,a),s.splice(i,1),i--}return r}),"function"==typeof t.formatArgs&&(s=t.formatArgs.apply(e,s));var u=o.log||t.log||console.log.bind(console);u.apply(e,s)}r.enabled=!1,o.enabled=!0;var a=t.enabled(e)?o:r;return a.namespace=e,a}function a(e){t.save(e);for(var r=(e||"").split(/[\s,]+/),n=r.length,o=0;n>o;o++)r[o]&&(e=r[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function s(){t.enable("")}function i(e){var r,n;for(r=0,n=t.skips.length;n>r;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;n>r;r++)if(t.names[r].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o,t.coerce=u,t.disable=s,t.enable=a,t.enabled=i,t.humanize=r(13),t.names=[],t.skips=[],t.formatters={};var c,f=0},function(e,t){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*f;case"days":case"day":case"d":return r*c;case"hours":case"hour":case"hrs":case"hr":case"h":return r*u;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function n(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=i?Math.round(e/i)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,c,"day")||a(e,u,"hour")||a(e,i,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,r){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var s=1e3,i=60*s,u=60*i,c=24*u,f=365.25*c;e.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?o(e):n(e)}},function(e,t,r){"use strict";var n=r(4),o=r(19),a=(r(5),{current:o,withContext:function(e,t){var r,o=a.current;a.current=n({},o,e);try{r=t()}finally{a.current=o}return r}});e.exports=a},function(e,t){"use strict";var r={current:null};e.exports=r},function(e,t,r){"use strict";var n=r(14),o=r(15),a=r(4),s=(r(5),{key:!0,ref:!0}),i=function(e,t,r,n,o,a){this.type=e,this.key=t,this.ref=r,this._owner=n,this._context=o,this.props=a};i.prototype={_isReactElement:!0},i.createElement=function(e,t,r){var a,u={},c=null,f=null;if(null!=t){f=void 0===t.ref?null:t.ref,c=void 0===t.key?null:""+t.key;for(a in t)t.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(u[a]=t[a])}var l=arguments.length-2;if(1===l)u.children=r;else if(l>1){for(var p=Array(l),d=0;l>d;d++)p[d]=arguments[d+2];u.children=p}if(e&&e.defaultProps){var h=e.defaultProps;for(a in h)"undefined"==typeof u[a]&&(u[a]=h[a])}return new i(e,c,f,o.current,n.current,u)},i.createFactory=function(e){var t=i.createElement.bind(null,e);return t.type=e,t},i.cloneAndReplaceProps=function(e,t){var r=new i(e.type,e.key,e.ref,e._owner,e._context,t);return r},i.cloneElement=function(e,t,r){var n,u=a({},e.props),c=e.key,f=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(f=t.ref,l=o.current),void 0!==t.key&&(c=""+t.key);for(n in t)t.hasOwnProperty(n)&&!s.hasOwnProperty(n)&&(u[n]=t[n])}var p=arguments.length-2;if(1===p)u.children=r;else if(p>1){for(var d=Array(p),h=0;p>h;h++)d[h]=arguments[h+2];u.children=d}return new i(e.type,c,f,l,e._context,u)},i.isValidElement=function(e){var t=!(!e||!e._isReactElement);return t},e.exports=i},function(e,t,r){"use strict";function n(e){return function(t,r,n){t.hasOwnProperty(r)?t[r]=e(t[r],n):t[r]=n}}function o(e,t){for(var r in t)if(t.hasOwnProperty(r)){var n=c[r];n&&c.hasOwnProperty(r)?n(e,r,t[r]):e.hasOwnProperty(r)||(e[r]=t[r])}return e}var a=r(4),s=r(8),i=r(20),u=n(function(e,t){return a({},t,e)}),c={children:s,className:n(i),style:u},f={mergeProps:function(e,t){return o(a({},e),t)}};e.exports=f},function(e,t,r){"use strict";function n(e,t){var r=a.mergeProps(t,e.props);return!r.hasOwnProperty(i)&&e.props.hasOwnProperty(i)&&(r.children=e.props.children),o.createElement(e.type,r)}var o=r(16),a=r(17),s=r(21),i=(r(5),s({children:null}));e.exports=n},function(e,t,r){"use strict";var n={};e.exports=n},function(e,t){"use strict";function r(e){e||(e="");var t,r=arguments.length;if(r>1)for(var n=1;r>n;n++)t=arguments[n],t&&(e=(e?e+" ":"")+t);return e}e.exports=r},function(e,t){var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return Array.isArray(e)&&e.length>0&&e.reduce(function(e,t){return e&&u(t)},!0)}function a(e){return function(t){v&&h["default"](t&&"object"==typeof t,e,t)}}function s(e){return""+(i(e)||"Anonymous")}function i(e){return!!e&&(e&&e.displayName||e.constructor&&e.constructor.displayName||e.fixed&&e.fixed.refs&&e.fixed.refs.displayName)||null}function u(e){return e&&"function"==typeof e.subscribe}function c(e){return e&&"function"==typeof e.then}function f(e){return!!(e&&b(e.register)&&b(e.getStore)&&b(e.getActions))}function l(e){return!!(e&&b(e.createRegistrar)&&b(e.fromMany)&&b(e.replacer)&&b(e.setter)&&b(e.transformer))}Object.defineProperty(t,"__esModule",{value:!0}),t.areObservable=o,t.createObjectValidator=a,t.getName=s,t.getNameOrNull=i,t.isObservable=u,t.isPromise=c,t.isKitten=f,t.isStore=l;var p=r(1),d=r(3),h=n(d),b=p.helpers.isFunction;t.isFunction=b;var v=!1;t.__DEV__=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){return s["default"].Observable.from(arguments).tapOnNext(function(e){return c.isObservable(e)?!0:new Error("waitFor only take observables but got %s",e)}).map(function(e){return e.publish()}).tapOnNext(function(e){return e.connect()}).toArray().tap(function(){return f("starting waitFor")}).flatMap(function(e){return s["default"].Observable.combineLatest(e,function(){return l.call(arguments)})}).doOnNext(function(){return f("waitFor onNext!")})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=r(1),s=n(a),i=r(2),u=n(i),c=r(22),f=u["default"]("thundercats:waitFor"),l=Array.prototype.slice;e.exports=t["default"]}])});